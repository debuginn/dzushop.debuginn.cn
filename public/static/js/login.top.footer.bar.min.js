function openlogin(a){logobj.showlogin(function(){window.location.href=a})}function navTopDown(){$("#top-nav li").each(function(){var a=$(this),b=a.find(".child-link"),c=a.find("i.top_usepng");a.bind("mouseenter",function(){b.length>0&&(b.stop(!0,!0).slideDown(300),c.removeClass(".top_down").addClass("top_up"))}).bind("mouseleave",function(){b.stop(!0,!0).slideUp(),c.removeClass("top_up").addClass("top_down")})}),$(".top_title").bind("mouseenter",function(){$(this).siblings("ul").stop(!0,!0).slideDown(300),$(this).find("a").removeClass(".top_down").addClass("top_up")}),$(".top_link").bind("mouseleave",function(){$(this).find("ul").stop(!0,!0).slideUp(300),$(this).find(".top_title").find("a").removeClass("top_up").addClass("top_down")}),$(".yetlogin").bind("mouseenter",function(){$(this).siblings("ul").addClass("atcur"),$(this).siblings("ul").show().animate({top:"35px"},200)}),$(".top_phone").bind("mouseleave",function(){$(this).find("ul").animate({top:"40px"},200,function(){$(".top_phone").find("ul").hide(),$(".top_phone").find("ul").removeClass("atcur")})})}function getcartcount(){$.ajax({url:"//buy.lenovo.com.cn"+"/getshoppingcartcount.jhtml",dataType:"jsonp",async:!1,type:"get",jsonp:"callbackparam",success:function(a){0==a.rc&&$("#top_cart_count").text(a.count)},error:function(a,b,c){}})}function getMsgCountInfo(){window.passport&&window.passport.isLogin()&&window.passport.cookie&&$.ajax({url:"https://i.lenovo.com.cn"+"/internal/msg/getUnReadMsg.jhtml?sts=e40e7004-4c8a-4963-8564-31271a8337d8",dataType:"jsonp",type:"get",jsonpCallback:"defaultcallback",success:function(a){a.ret&&a.count&&a.count>0&&($("#top_msg_tipdot").show(),$("#top_msg_count").html(a.count))},error:function(a,b,c){}})}function rightBar(){$("#rightbar").css({right:"-36px","margin-right":"0px"}),$("#rightIcon").show(),$("#rightIcon").bind("mouseenter",function(){$(this).stop(!0,!0).animate({right:"-16px"},0,function(){$("#rightbar").stop(!0,!0).animate({right:"0px","margin-right":"0px"},0)})}),$("#rightbar").bind("mouseleave",function(){$(this).stop(!0,!0).animate({right:"-36px","margin-right":"0px"},0,function(){$("#rightIcon").stop(!0,!0).animate({right:"0px"},0)})})}function noRightBar(){$("#rightbar").css({right:"50%","margin-right":"-650px"}),$("#rightIcon").hide(),$("#rightIcon").unbind("mouseenter"),$("#rightbar").unbind("mouseleave")}function miniBar(){($(window).width()-1200)/2<50?rightBar():noRightBar(),$(window).resize(function(){($(window).width()-1200)/2<50?rightBar():noRightBar()})}$(function(){function a(){if(passport.isLogin()){for(var a=passport.cookie.lenovoId,b=passport.cookie.lenovoId.length;b<20;b++)a="0"+a;var c="https://i.app.lefile.cn/uc_server/data/avatar/"+a.substring(0,5)+"/"+a.substring(5,10)+"/"+a.substring(10,15)+"/"+a.substring(15,a.length)+"_profilehead.w50.jpg";$(".top_login_ing").css({background:"url("+c+") no-repeat",backgroundSize:"35px"})}}var b="e40e7004-4c8a-4963-8564-31271a8337d8";passport.init({ticket:b,drawUserInfo:function(){$(".top_loginbtn").hide(),$(".top_phone").show(),$(".top_phone ul").hide(),$(".top_phone_title").html("<span>"+passport.cookie.loginName+"</span>"),a()},login:function(){window.location.replace(document.URL)},logout:function(){$(".top_loginbtn").show(),$(".top_phone").hide(),window.location.replace(document.URL)}}),$("body").delegate(".login","click",function(){passport.show()}).delegate(".logout","click",function(){passport.doLogout()}).delegate(".regist","click",function(){passport.hide(),regist.init(b)}).delegate(".forgetPwd","click",function(){passport.hide(),recover.init(b)}).delegate(".gotomycenter","click",function(){location.href="//i.lenovo.com.cn/info/center.jhtml?sts=e40e7004-4c8a-4963-8564-31271a8337d8"})});var logobj={showlogin:function(a){passport.show(),"function"==typeof a&&(console.log("您在不恰当的位置设置了登陆后的跳转,为了保证安全，页面将会对您的设置进行延迟跳转(2s)"),passport.login=function(){setTimeout(a,2e3)})}};$(function(){navTopDown(),getcartcount(),getMsgCountInfo()}),$().ready(function(){$(".floor_item .pro_img img").mouseenter(function(){$(this).animate({left:10},"slow")}),$(".floor_item .pro_img img").mouseleave(function(){$(this).animate({left:0},"slow")})});var Bar=function(){var a={};return a.rightbar=function(){var a=$(".rightbar_hover"),b=$("#totop");a.hover(function(){$(this).addClass("active")},function(){$(this).removeClass("active")}),b.click(function(){$("html,body").animate({scrollTop:0},500)})},a}(jQuery);$(function(){Bar.rightbar(),miniBar();var a="//srv.lenovo.com.cn/home/index.do?sd=1";window.code&&(a+="&c="+window.code+"&bu="+window.buOwner),$(".onlinkLink").attr("href",a)});
!function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="./",t(0)}({0:function(e,t,o){o(77),e.exports=o(78)},20:function(e,t){e.exports=window.jQuery},77:function(e,t){},78:function(module,exports,__webpack_require__){function getRootDomain(e){var t=/\/\/([^\/]+)/.exec(e)[1],o=t.split(".").slice(-3);return 2==o.length?t:"com"==o[1]?o.join("."):o[1]+"."+o[2]}function loginAndRedirect(e,t){if(e){var o=getRootDomain(t),n="https://reg."+o+"/cookie/build?cookie="+encodeURIComponent(e)+"&domain="+o+"&ru="+encodeURIComponent(t);window.location.href=n}}function getCallbackUrl(){var e=$("#ru").val(),t=/ru=([^&]+)/i.exec(document.URL);return t&&(e=decodeURIComponent(t[1])),e}function flRequest(e){var t=Math.random()+"",o=1e13*t;$("body").append('<iframe src="https://6895322.fls.doubleclick.net/activityi;src=6895322;type=lenov0;cat=crm_l0;u1='+e+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1;num="+o+'?" width="1" height="1" frameborder="0" style="display:none"></iframe>')}__webpack_require__(79),__webpack_require__(80);var $=__webpack_require__(20),JPlaceHolder=__webpack_require__(81);$(function(){function ucInit(e,t){var o=new worker;return o.init({renderTo:"#"+e,success:function(t){"slider"==e?(sliderFlag=!0,slider_codeid=t.codeid,slider_value=t.value):(sliderfFlag=!0,slider_f_codeid=t.codeid,slider_f_value=t.value,$code_btn.removeClass("captcha_btn_limit"))},error:function(t){"slider"==e?(sliderFlag=!1,slider_codeid="",slider_value="",slider1.reset()):(sliderfFlag=!1,slider_f_codeid="",slider_f_value="",slider2.reset())},btnCancel:"."+t,errorMsg:"哎呀，出错了，点击<a href='javascript://;' class='"+t+"'>刷新</a>",width:348,height:50,sliderBg:"rgba(255,255,255,0)",color:"#424242",fontSize:14,bgColor:"#33CC00",successMsg:"验证成功",successColor:"#fff",errorFontSize:14,errorColor:"blue",errorBgColor:"rgba(255,255,255,0)"}),o}function init(){$(".login_fast").on("click",function(){$("#fast_login_box,.login_account").show(),$("#normal_login_box,.login_fast").hide(),reset(),isFastLogin=!0}),$(".login_account").on("click",function(){$("#normal_login_box,.login_fast").show(),$("#fast_login_box,.login_account").hide(),reset(),isFastLogin=!1}),$(".login_scan_tip").click(function(){$(".qrcode_error").attr("isShow")&&$(".qrcode_error").hide(),$(".qrcode_success").attr("isShow")&&($(".qrcode_success").removeAttr("isShow").hide(),$(".qrcode_info,.qrcode_desc").show()),$(".login_static,.login_scan_tip,.login_tip").hide(),$(".login_scan,.login_static_tip").show(),qrcodeRefresh()}),$(".login_static_tip").click(function(){$(".login_scan,.login_static_tip").hide(),$(".login_static,.login_scan_tip,.login_tip").show(),clearInterval(scanTimer),checkReady=!1}),$(".qrcode_refresh").click(function(){$(".qrcode_error").removeAttr("isShow").hide(),qrcodeRefresh()}),window.attachEvent?($("input").on("keydown",function(){$("input").removeClass("error_bg").parents(".login_input").find("i").removeClass("icon-err-delete"),$(".error-container").find("p").html("").end().hide(),$(this).val()?($(this).parents(".login_input").find(".icon-clear").removeClass("icon-err-delete").show(),$(this).addClass("input")):($(this).parents(".login_input").find(".icon-clear").removeClass("icon-err-delete").hide(),$(this).removeClass("input"))}).on("focus",function(){$(this).addClass("focusIn")}).on("blur",function(){$(this).removeClass("focusIn")}),location.href.indexOf("lenovo.com.cn")>-1?$(".denglu_main").css("background",'url("https://m4.lefile.cn/memberstaticinc/static/images/loginBg.jpg") no-repeat center'):$(".denglu_main").css("background",'url("https://m4.lenovouat.com/memberstaticinc/static/images/loginBg.jpg") no-repeat center')):$("input").on("input",function(){$("input").removeClass("error_bg").parents(".login_input").find("i").removeClass("icon-err-delete"),$(".error-container").find("p").html("").end().hide(),$(this).val()?($(this).parents(".login_input").find(".icon-clear").removeClass("icon-err-delete").show(),$(this).addClass("input")):($(this).parents(".login_input").find(".icon-clear").removeClass("icon-err-delete").hide(),$(this).removeClass("input"))}).on("focus",function(){$(this).addClass("focusIn")}).on("blur",function(){$(this).removeClass("focusIn")}),$(".icon-clear").on("click",function(){$(this).parents(".login_input").find("input").val("").removeClass("input error_bg").focus().end().end().hide()}),$code_btn.click(function(){getMobileCode()}),$pwd.on("keyup",function(e){13===e.keyCode&&validator.form()&&_doSubmit()}),$captcha.on("keyup",function(e){13===e.keyCode&&validator.form()&&_doSubmit()}),$submit_btn.click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_登录";ga("send","event",e,t,o),_doSubmit()}),$(".login_mains.clearfix .regist_btn").click(function(){var e="Click_立即注册";ga("send","event","Lenovo_PC","Lenovo_会员登录",e)}),$(".login_mains.clearfix .reset_btn").click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_忘记密码";ga("send","event",e,t,o)}),$(".login_mains.clearfix .login_type.login_fast.btnCancle2").click(function(){var e="Click_手机验证码快捷登录";ga("send","event","Lenovo_PC","Lenovo_会员登录",e)}),$(".login_mains.clearfix .login_type.login_account.btnCancle1").click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_用户名密码登录";ga("send","event",e,t,o)}),$(".cooperation_items.clearfix .qq").click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_QQ登录";ga("send","event",e,t,o)}),$(".cooperation_items.clearfix .wb").click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_Sina登录";ga("send","event",e,t,o)}),$(".cooperation_items.clearfix .wx").click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_Wechat登录";ga("send","event",e,t,o)}),$(".cooperation_items.clearfix .zfb").click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_Alipay登录";ga("send","event",e,t,o)}),$account.click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_账户";ga("send","event",e,t,o)}),$phone.click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_手机号";ga("send","event",e,t,o)}),$captcha.click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_手机验证码";ga("send","event",e,t,o)}),$pwd.click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_密码";ga("send","event",e,t,o)}),$code_btn.click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_获取验证码";ga("send","event",e,t,o)}),$ps.click(function(){var e="Lenovo_PC",t="Lenovo_会员登录",o="Click_自动登录";ga("send","event",e,t,o)})}function queryScan(){$.ajax({type:"post",url:"/auth/qrcodelogin/qrcodeLoginCheck/"+qrtoken,dataType:"jsonp",jsonp:"callback",jsonpCallback:"jQuery"+(new Date).getTime(),success:function(o){"string"==typeof o&&(o=eval("("+o+")")),"3"==o.status?(clearInterval(scanTimer),checkReady=!1,$(".qrcode_info,.qrcode_desc").show(),$(".qrcode_success").hide(),$(".qrcode_error").find("h6").html("二维码已失效").end().attr("isShow","1").show()):"2"==o.status?($(".qrcode_info,.qrcode_desc").hide(),$(".qrcode_success").attr("isShow","1").show()):"4"==o.status?(clearInterval(scanTimer),"undefined"!=typeof passport&&passport.isLogin&&passport.isLogin()&&(flRequest(passport.cookie.lenovoId),passport.ECS_login(o.tgt,passport.cookie.loginName),loginAndRedirect(o["cerpreg-passport"],getCallbackUrl()))):"5"==o.status&&(clearInterval(scanTimer),checkReady=!1,$(".qrcode_info,.qrcode_desc").show(),$(".qrcode_success").hide(),$(".qrcode_error").find("h6").html("登录失败").end().attr("isShow","1").show())}})}function getCookie(e){var t,o=document.cookie,n=o.indexOf(e+"="),i=o.indexOf(";",n);return i==-1&&(i=o.length),n>-1?t=o.substring(n+e.length+1,i):null}function doFastLogin(){$submit_btn.html("正在登录，请稍候..."),$.ajax({type:"POST",url:urlFastLogin,dataType:"json",data:{ticket:$("#ticket").val(),account:$.trim($phone.val()),captcha:$.trim($captcha.val()),ps:$ps.is(":checked")?1:0},success:function(e){$submit_btn.html("登录"),clicktag=!1,0==e.ret&&passport&&"function"==typeof passport.isLogin&&passport.isLogin()?(flRequest(passport.cookie.lenovoId),passport.ECS_login(e.tgt,$.trim($phone.val())),loginAndRedirect(e["cerpreg-passprt"],getCallbackUrl())):($error_place.find("p").html(e.msg).end().show(),$code_btn.addClass("captcha_btn_limit").html("获取验证码"))},error:function(e,t,o){$submit_btn.html("登录"),clicktag=!1,$error_place.find("p").html(o).end().show(),$code_btn.addClass("captcha_btn_limit").html("获取验证码")}})}function doNormallogin(){$submit_btn.html("正在登录，请稍候..."),$.ajax({url:dol,data:{account:$.trim($account.val()),password:Base64.encode($pwd.val()),ps:$ps.is(":checked")?1:0,ticket:$("#ticket").val(),codeid:slider_codeid,code:slider_value},dataType:"json",type:"POST",success:function(e){$submit_btn.html("登录"),clicktag=!1,"0"==e.ret?(flRequest(e.lenovoId),passport.ECS_login(e.tgt,$.trim($account.val())),loginAndRedirect(e["cerpreg-passprt"],getCallbackUrl())):("false"==e.isshowpic&&($("#slider").show(),isShowCaptcha=!0),$error_place.find("p").html(e.msg).end().show(),slider1.reset(),sliderFlag=!1)},error:function(e,t,o){clicktag=!1,$submit_btn.html("登录"),$error_place.find("p").html(o).end().show(),slider1.reset(),sliderFlag=!1}})}var ticket=$("#ticket").val(),loginAccount=!1,isFastLogin=!1,urlFastLogin="/auth/v1/fastLogin",dol="/auth/v2/doLogin",timer;if("undefined"!=typeof passport&&passport.isLogin&&passport.isLogin())return location.href=getCallbackUrl(),!1;var sliderFlag=!1,slider_codeid="",slider_value="",sliderfFlag=!1,slider_f_codeid="",slider_f_value="",pending=!1;JPlaceHolder.init(),$.AutoComplete("#account"),$(".denglu_main .loginleft a").attr("href","https://item.lenovo.com.cn/product/1000601.html"),$(".denglu_main .loginleft a").attr("target","_blank");var slider1=ucInit("slider","btnCancle1"),slider2=ucInit("slider_f","btnCancle2"),$form=$(".login"),$account=$("input.account",$form),$phone=$("input.account_f",$form),$captcha=$("input.captcha",$form),$pwd=$("input.pwd",$form),$submit_btn=$(".submit",$form),$code_btn=$("#getMobileCode",$form),$ps=$("#ps"),$error_place=$(".error-container"),isShowCaptcha=!1,reset=function(){$account.removeClass("error_bg").val(""),$phone.removeClass("error_bg").val(""),$captcha.removeClass("error_bg").val(""),$pwd.removeClass("error_bg").val(""),slider2.reset(),sliderfFlag=!1,isShowCaptcha&&(slider1.reset(),sliderFlag=!1),clearInterval(timer),$code_btn.addClass("captcha_btn_limit").val("获取验证码"),pending=!1,$(".icon-clear").removeClass("icon-err-delete").hide(),$(".error-container").find("p").html("").end().hide()},validator={account:function(){var e,t=$.trim($account.val());/^\s*$/.test(t)?(e="账号不能为空",$account.addClass("error_bg"),slider1.reset(),sliderFlag=!1):/^(?:1[3-9]\d{9}|[a-z0-9-_\\.]+@([a-z0-9-]+[\\.]{1})+[a-z0-9-]+)$/i.test(t)||(e="用户名不正确",$account.addClass("error_bg").parents(".login_input").find(".icon-clear").addClass("icon-err-delete"),slider1.reset(),sliderFlag=!1),this.error($account,e)},phone:function(){var e,t=$.trim($phone.val());/^\s*$/.test(t)?(e="手机号不能为空",$phone.addClass("error_bg")):/^1[3-9]\d{9}$/.test(t)||(e="手机号格式错误",$phone.addClass("error_bg").parents(".login_input").find(".icon-clear").addClass("icon-err-delete")),this.error($phone,e)},captcha:function(){var e,t=$.trim($captcha.val());/^\s*$/.test(t)&&(e="请输入短信验证码",$captcha.addClass("error_bg")),this.error($captcha,e)},pwd:function(){var e,t=$pwd.val();/^\s*$/.test(t)?(e="密码不能为空",$pwd.addClass("error_bg"),slider1.reset(),sliderFlag=!1):t.length<4&&(e="密码不能少于4位",$pwd.addClass("error_bg").parents(".login_input").find(".icon-clear").addClass("icon-err-delete"),slider1.reset(),sliderFlag=!1),this.error($pwd,e)},slider:function(e){var t;return e||(t="滑块验证失败，请重试",$error_place.find("p").html(t).end().show()),e},error:function(e,t){e&&(e.check=void 0===t)?$error_place.hide():$error_place.find("p").html(t).end().show()},form:function(){return!(!isFastLogin||validator.phone()||!$phone.check||validator.captcha()||!$captcha.check)||!(isFastLogin||validator.account()||!$account.check||validator.pwd()||!$pwd.check||isShowCaptcha&&!validator.slider(sliderFlag))}},qrtoken=null,checkReady=!1,scanTimer=null,qrcodeRefresh=function(){$(".qrcode_img").attr("src","/auth/qrcodelogin/show?"+(new Date).getTime()),$(".qrcode_img")[0].onload=function(){checkReady=!0,qrtoken=getCookie("qrtoken"),qrtoken&&(scanTimer=setInterval(function(){checkReady&&queryScan()},3e3))}},clicktag=!1,getMobileCode=function(){return!pending&&(validator.phone(),$phone.check&&validator.slider(sliderfFlag)?(pending=!0,$code_btn.html("正在获取中..."),void $.get("/captcha/canSend?mobile="+$.trim($phone.val())+"&codeid="+slider_f_codeid+"&code="+slider_f_value+"&ticket=e40e7004-4c8a-4963-8564-31271a8337d8").done(function(e){if(1==e.ret)$error_place.find("p").html(e.msg).end().show(),slider2.reset(),sliderfFlag=!1,$code_btn.addClass("captcha_btn_limit").html("获取验证码"),pending=!1;else{var t=60;$(".error-container").find("p").html("").end().hide(),timer=setInterval(function(){t--,$code_btn.html("已发送"+t),t<=0&&(clearInterval(timer),$code_btn.html("获取验证码"),pending=!1,slider2.reset(),sliderfFlag=!1)},1e3)}}).fail(function(){$code_btn.addClass("captcha_btn_limit").html("获取验证码"),slider2.reset(),sliderfFlag=!1,pending=!1})):($code_btn.addClass("captcha_btn_limit"),slider2.reset(),sliderfFlag=!1,!1))},_doSubmit=function(){return!(clicktag||!validator.form())&&(clicktag=!0,void(isFastLogin?doFastLogin():doNormallogin()))};init()}),window.goRegist=function(){location.href="/auth/v1/regist?ticket="+$("#ticket").val()+"&ru="+getCallbackUrl()},window.goForgetPwd=function(){location.href="/pwd/findpwd?ticket="+$("#ticket").val()+"&ru="+getCallbackUrl()},window.refrechc=function(){$(".captcha_img",$("#ca_")).attr("src","//captcha.lenovo.com.cn/img?"+(new Date).getTime())},window.onQQ=function(){location.href="/auth/qqplat?ru="+encodeURIComponent(getCallbackUrl())+"&tk="+$("#ticket").val()},window.onWB=function(){location.href="/auth/sinaplat?ru="+encodeURIComponent(getCallbackUrl())+"&tk="+$("#ticket").val()},window.onWX=function(){location.href="/auth/wechatcode?ru="+encodeURIComponent(getCallbackUrl())+"&tk="+$("#ticket").val()},window.onZFB=function(){location.href="/auth/alipayplat?ru="+encodeURIComponent(getCallbackUrl())+"&tk="+$("#ticket").val()}},79:function(e,t){!function(e){"use strict";var t,o=e.Base64,n="2.1.8",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=function(e){for(var t={},o=0,n=e.length;o<n;o++)t[e.charAt(o)]=o;return t}(i),c=String.fromCharCode,a=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|63&t)},l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,s=function(e){return e.replace(l,a)},d=function(e){var t=[0,2,1][e.length%3],o=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),n=[i.charAt(o>>>18),i.charAt(o>>>12&63),t>=2?"=":i.charAt(o>>>6&63),t>=1?"=":i.charAt(63&o)];return n.join("")},u=e.btoa?function(t){return e.btoa(t)}:function(e){return e.replace(/[\s\S]{1,3}/g,d)},p=t?function(e){return(e.constructor===t.constructor?e:new t(e)).toString("base64")}:function(e){return u(s(e))},h=function(e,t){return t?p(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):p(String(e))},f=function(e){return h(e,!0)},_=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),g=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),o=t-65536;return c((o>>>10)+55296)+c((1023&o)+56320);case 3:return c((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return c((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},v=function(e){return e.replace(_,g)},$=function(e){var t=e.length,o=t%4,n=(t>0?r[e.charAt(0)]<<18:0)|(t>1?r[e.charAt(1)]<<12:0)|(t>2?r[e.charAt(2)]<<6:0)|(t>3?r[e.charAt(3)]:0),i=[c(n>>>16),c(n>>>8&255),c(255&n)];return i.length-=[0,0,2,1][o],i.join("")},m=e.atob?function(t){return e.atob(t)}:function(e){return e.replace(/[\s\S]{1,4}/g,$)},C=t?function(e){return(e.constructor===t.constructor?e:new t(e,"base64")).toString()}:function(e){return v(m(e))},b=function(e){return C(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},k=function(){var t=e.Base64;return e.Base64=o,t};if(e.Base64={VERSION:n,atob:m,btoa:u,fromBase64:b,toBase64:h,utob:s,encode:h,encodeURI:f,btou:v,decode:b,noConflict:k},"function"==typeof Object.defineProperty){var w=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};e.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",w(function(){return b(this)})),Object.defineProperty(String.prototype,"toBase64",w(function(e){return h(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",w(function(){return h(this,!0)}))}}e.Meteor&&(Base64=e.Base64)}(window)},80:function(e,t,o){var n=o(20);n.AutoComplete=function(e){var t,o,n=$(e),i=[];i.push('<div class="AutoComplete" id="AutoComplete">'),i.push('    <ul class="AutoComplete_ul">'),i.push('        <li hz="@lenovo.com"></li>'),i.push('        <li hz="@qq.com"></li>'),i.push('        <li hz="@163.com"></li>'),i.push('        <li hz="@sina.com"></li>'),i.push("    </ul>"),i.push("</div>"),$("body").append(i.join("")),t=$("#AutoComplete"),t.data("elt",n),o=t.find("li:not(.AutoComplete_title)"),o.mouseover(function(){$(this).siblings().filter(".hover").removeClass("hover"),$(this).addClass("hover")}).mouseout(function(){$(this).removeClass("hover")}).mousedown(function(){t.data("elt").val($(this).text()).change(),t.hide()}),n.keyup(function(e){if(/13|38|40|116/.test(e.keyCode)||""==this.value)return!1;var n=this.value;return n.indexOf("@")==-1?(t.hide(),!1):(o.each(function(){this.innerHTML=n.replace(/\@+.*/,"")+$(this).attr("hz"),this.innerHTML.indexOf(n)>=0?$(this).show():$(this).hide()}).filter(".hover").removeClass("hover"),t.show().css({left:$(this).offset().left-11,top:$(this).offset().top+$(this).outerHeight(!0)-1,position:"absolute",zIndex:"99999"}),void(0==o.filter(":visible").length?t.hide():o.filter(":visible").eq(0).addClass("hover")))}).keydown(function(e){38==e.keyCode?o.filter(".hover").prev().not(".AutoComplete_title").addClass("hover").next().removeClass("hover"):40==e.keyCode?o.filter(".hover").next().addClass("hover").prev().removeClass("hover"):13==e.keyCode&&(o.filter(".hover").mousedown(),e.stopPropagation(),e.preventDefault())}).focus(function(){t.data("elt",$(this))}).blur(function(){t.hide()})}},81:function(e,t,o){var n=o(20),i={_check:function(){return"placeholder"in document.createElement("input")},init:function(){this._check()||this.fix()},fix:function(){n(":input[placeholder]").each(function(e,t){var o=$(this),n=o.attr("placeholder");o.wrap($("<div></div>").css({position:"relative",zoom:"1",border:"none",background:"none",padding:"none",margin:"none"}));var i=o.position(),r=(o.outerHeight(!0),o.css("padding-left"),$("<span></span>").text(n).css({position:"absolute",left:i.left+15,top:i.top,height:"50px",lineHeight:"50px",paddingLeft:"0px",color:"#8c8c8c","font-size":"14px"}).appendTo(o.parent()));o.focusin(function(e){r.hide()}).focusout(function(e){o.val()||r.show()}),r.click(function(e){r.hide(),o.focus()})})}};e.exports=i}});

!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="./",t(0)}({0:function(e,t,n){n(105),e.exports=n(106)},20:function(e,t){e.exports=window.jQuery},105:function(e,t){},106:function(e,t,n){var r=n(20),o=n(107);n(108),n(109),r(function(){function e(e,t){var n=new worker;return n.init({renderTo:"#"+e,success:function(t){"slider_person"==e?(L=!0,$=t.codeid,A=t.value,s($captcha_person_btn,u,R,E,L,$,A,F,O)):(x=!0,P=t.codeid,S=t.value,s(w,f,T,I,x,P,S,N,M))},error:function(t){"slider_person"==e?(L=!1,$="",A="",E.reset(),s($captcha_person_btn,u,R,E,L,$,A,F,O)):(x=!1,P="",S="",I.reset(),s(w,f,T,I,x,P,S,N,M))},btnCancel:"."+t,errorMsg:"哎呀，出错了，点击<a href='javascript://;' class='"+t+"'>刷新</a>",width:358,height:50,sliderBg:"rgba(255,255,255,0)",color:"#424242",fontSize:14,bgColor:"#33CC00",successMsg:"验证成功",successColor:"#fff",errorFontSize:14,errorColor:"blue",errorBgColor:"rgba(255,255,255,0)"}),n}function t(e){var t=/\/\/([^\/]+)/.exec(e)[1],n=t.split(".").slice(-3);return 2==n.length?t:"com"==n[1]?n.join("."):n[1]+"."+n[2]}function n(e,n,r){if(e){var o=t(n),i="https://reg."+o+"/cookie/build?cookie="+encodeURIComponent(e)+"&domain="+o+"&ru="+encodeURIComponent(n)+"&isEnterprise="+r;window.location.href=i}}function i(){var e=r("#ru").val(),t=/ru=([^&]+)/i.exec(document.URL);return t&&(e=decodeURIComponent(t[1])),e}function c(e){var t=Math.random()+"",n=1e13*t;r("body").append('<iframe src="https://6895322.fls.doubleclick.net/activityi;src=6895322;type=lenov0;cat=crm_l0;u1='+e+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1;num="+n+'?" width="1" height="1" frameborder="0" style="display:none"></iframe>')}function s(e,t,n,o,i,c,s,a,l){e.off("click").on("click",function(){return!n&&(D(t),t.is_check&&U.slider(i)?(n=!0,void r.get("/captcha/canSend?ticket=e40e7004-4c8a-4963-8564-31271a8337d8&mobile="+r.trim(t.val())+"&codeid="+c+"&code="+s+"&isExist=1",function(t){return 1==t.ret?(r(".regist-error").find("p").html(t.msg).end().show(),o.reset(),i=!1,e.html("获取验证码"),void(n=!1)):(r(".regist-error").find("p").html("").end().hide(),a=60,l&&clearInterval(l),void(l=setInterval(function(){e.html("已发送"+a--),a<=0&&(clearInterval(l),l=null,e.html("获取验证码"),n=!1,o.reset(),i=!1)},1e3)))})):(o.reset(),i=!1,!1))})}function a(e){"0"==e?(u.removeClass("error_bg").val(""),v.removeClass("error_bg").val(""),h.removeClass("error_bg").val(""),p.removeClass("error_bg").val(""),r(".icon-clear").removeClass("icon-err-delete").hide(),r(".regist-error").find("p").html("").end().hide(),E.reset(),L=!1):(f.removeClass("error_bg").val(""),m.removeClass("error_bg").val(""),C.removeClass("error_bg").val(""),k.removeClass("error_bg").val(""),_.removeClass("error_bg").val(""),g.removeClass("error_bg").val(""),b.removeClass("error_bg").val(""),r(".icon-clear").removeClass("icon-err-delete").hide(),r(".regist-error").find("p").html("").end().hide(),I.reset(),x=!1)}function l(){function e(e,s){r.ajax({type:"POST",dataType:"json",url:t,data:e,success:function(e){y.html("立即注册"),0==e.ret?(c(e.lenovoId),passport.ECS_login(e.tgt,r.trim(s.val())),n(e["cerpreg-passprt"],i(),j)):r(".regist-error").find("p").html(e.msg).end().show(),o=!1},error:function(e,t,n){y.html("立即注册"),r(".regist-error").find("p").html(n).end().show(),o=!1}})}r.AutoComplete(".account"),window.attachEvent?r("input").on("keydown",function(){r("input").removeClass("error_bg").parents(".regist_item").find(".icon-clear").removeClass("icon-err-delete"),r(".regist-error").find("p").html("").end().hide(),r(this).val()?(r(this).parents(".regist_item").find(".icon-clear").removeClass("icon-err-delete").show(),r(this).addClass("input")):(r(this).parents(".regist_item").find(".icon-clear").removeClass("icon-err-delete").hide(),r(this).removeClass("input"))}).on("focus",function(){r(this).addClass("focusin")}).on("blur",function(){r(this).removeClass("focusin")}):r("input").on("input",function(){r("input").removeClass("error_bg").parents(".regist_item").find(".icon-clear").removeClass("icon-err-delete"),r(".regist-error").find("p").html("").end().hide(),r(this).val()?(r(this).parents(".regist_item").find(".icon-clear").removeClass("icon-err-delete").show(),r(this).addClass("input")):(r(this).parents(".regist_item").find(".icon-clear").removeClass("icon-err-delete").hide(),r(this).removeClass("input"))}).on("focus",function(){r(this).addClass("focusin")}).on("blur",function(){r(this).removeClass("focusin")}),r(".icon-clear").on("click",function(){r(this).parents(".regist_item").find("input").val("").removeClass("input error_bg").focus().end().end().hide()}),z.click(function(){return location.href="/auth/v1/login?ticket=e40e7004-4c8a-4963-8564-31271a8337d8&ru="+i(),!1}),s($captcha_person_btn,u,R,E,L,$,A,F,O),r(".regist_tap h3").on("click",function(){r(this).addClass("now").siblings().removeClass("now"),j=r(this).attr("type"),"0"==j?(B=!0,r(".regist_info_person").show(),r(".regist_info_company").hide(),s($captcha_person_btn,u,R,E,L,$,A,F,O),a(j)):(B=!1,r(".regist_info_person").hide(),r(".regist_info_company").show(),s(w,f,T,I,x,P,S,N,M),a(j))}),p.on("keyup",function(e){13===e.keyCode&&y.trigger("click")}),b.on("keyup",function(e){13===e.keyCode&&y.trigger("click")});var t="/auth/v1/doRegistAndLogin",o=!1;y.click(function(){var t={};return!o&&(!!U.form(j)&&(o=!0,r(this).html("正在注册，请稍后..."),void(B?(t={ticket:d,account:r.trim(u.val()),password:Base64.encode(h.val()),captcha:r.trim(v.val()),isEnterprise:"0"},e(t,u,E)):(t={ticket:d,account:r.trim(f.val()),password:Base64.encode(_.val()),captcha:r.trim(b.val()),enterpriseName:r.trim(m.val()),enterpriseTaxNum:r.trim(k.val()),enterpriseEmail:r.trim(C.val()),isQr:"0",isEnterprise:"1"},e(t,f,I)))))}),r(".regist .regist_tap .person_regist").click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_个人用户注册";ga("send","event",e,t,n)}),r(".regist .regist_tap .company_regist").click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_企业用户注册";ga("send","event",e,t,n)}),u.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_个人用户手机号码";ga("send","event",e,t,n)}),h.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_个人用户密码";ga("send","event",e,t,n)}),p.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_个人用户确认密码";ga("send","event",e,t,n)}),v.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_个人用户验证码";ga("send","event",e,t,n)}),$captcha_person_btn.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_个人用户获取验证码";ga("send","event",e,t,n)}),f.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_企业用户手机号";ga("send","event",e,t,n)}),_.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_企业用户密码";ga("send","event",e,t,n)}),g.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_企业用户确认密码";ga("send","event",e,t,n)}),m.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_企业名称";ga("send","event",e,t,n)}),C.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_企业邮箱";ga("send","event",e,t,n)}),k.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_企业税号";ga("send","event",e,t,n)}),b.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_企业用户验证码";ga("send","event",e,t,n)}),w.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_企业用户获取验证码";ga("send","event",e,t,n)}),y.click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_立即注册";ga("send","event",e,t,n)}),r(".regist_agreement a.go-login").click(function(){var e="Lenovo_PC",t="Lenovo_会员注册",n="Click_已有账号点此登录";ga("send","event",e,t,n)})}var d=r("#ticket").val(),u=r(".phone_person"),h=r(".pwd"),p=r(".repwd"),v=r(".captcha_person");$captcha_person_btn=r(".captcha_person_btn");var f=r(".phone_company"),_=r(".company_pwd"),g=r(".company_repwd"),m=r(".company_name"),C=r(".company_email"),k=r(".company_taxNum"),b=r(".captcha_company"),w=r(".captcha_company_btn"),y=r(".regist_button"),L=!1,$="",A="",x=!1,P="",S="",B=!0,z=r(".go-login"),j="0";o.init();var E=e("slider_person","btnCancel1"),I=e("slider_company","btnCancel2"),R=!1,T=!1,F=0,N=0,O="",M="",U={account:function(e){var t=r.trim(e.val());return/^\s*$/.test(t)?(e.is_check=!1,e.addClass("error_bg"),this.tip(e,"账号不能为空",!1)):/^1[3-9]\d{9}$/.test(t)?(e.is_check=!0,void this.tip(e,"",!0)):(e.is_check=!1,e.addClass("error_bg").parents(".regist_item").find(".icon-clear").addClass("icon-err-delete"),this.tip(e,"请输入正确的手机号",!1))},pwd:function(e){var t=e.val();return/^\s*$/.test(t)?(this.tip(e,"密码不能为空",!1),void e.addClass("error_bg")):t.length<8||t.length>20?(this.tip(e,"密码长度8-20位",!1),void e.addClass("error_bg").parents(".regist_item").find(".icon-clear").addClass("icon-err-delete")):/(?!^(\d+|[a-zA-Z]+|[~!@#$%^&*?\.>\-\=\+<\(\),\[\];:\/]+)$)^[\w~!@#$%^&*?\.>\-\=\+<\(\),\[\];:\/]{8,20}$/.test(t)?void this.tip(e,"",!0):(this.tip(e,"密码至少包含数字、字母、字符其中的2种",!1),void e.addClass("error_bg").parents(".regist_item").find(".icon-clear").addClass("icon-err-delete"))},repwd:function(e,t){var n=e.val(),r=t.val();return/^\s*$/.test(n)?(e.addClass("error_bg"),this.tip(e,"确认密码和密码不一致",!1)):/(?!^(\d+|[a-zA-Z]+|[~!@#$%^&*?\.>\-\=\+<\(\),\[\];:\/]+)$)^[\w~!@#$%^&*?\.>\-\=\+<\(\),\[\];:\/]{8,20}$/.test(n)&&n===r?void this.tip(e,"",!0):(e.addClass("error_bg").parents(".regist_item").find(".icon-clear").addClass("icon-err-delete"),this.tip(e,"确认密码和密码不一致",!1))},captcha:function(e){var t=r.trim(e.val());return/^\s*$/.test(t)?(e.addClass("error_bg"),this.tip(e,"请输入短信验证码",!1)):void this.tip(e,"",!0)},slider:function(e){var t;return e||(t="滑块验证失败，请重试",r(".regist-error").find("p").html(t).end().show()),e},companyName:function(){var e=r.trim(m.val());return/^\s*$/.test(e)?(m.addClass("error_bg"),this.tip(m,"请输入企业名称",!1)):void this.tip(m,"",!0)},companyEmail:function(){var e=r.trim(C.val());return/^\s*$/.test(e)?(C.addClass("error_bg"),this.tip(C,"请输入企业邮箱",!1)):/^([a-z0-9-_\\.]+@([a-z0-9-]+[\\.]{1})+[a-z0-9-]+)$/i.test(e)?void this.tip(C,"",!0):(C.addClass("error_bg").parents(".regist_item").find(".icon-clear").addClass("icon-err-delete"),this.tip(C,"请输入正确格式的企业邮箱",!1))},companyTaxNum:function(){var e=r.trim(k.val());return/^\s*$/.test(e)?(k.addClass("error_bg"),this.tip(k,"请输入企业税号",!1)):15!=e.length&&18!=e.length?(k.addClass("error_bg"),this.tip(k,"请输入正确格式的企业税号",!1)):void this.tip(k,"",!0)},form:function(e){if("0"==e){if(D(u),!u.is_check){try{}catch(e){}return!1}return!(U.account(u)||this.captcha(v)||this.pwd(h)||!h.is_check||this.repwd(p,h)||!p.is_check)}if("1"==e){if(D(f),!f.is_check){try{}catch(e){}return!1}return!(U.account(f)||this.companyName()||!m.is_check||this.companyEmail()||!C.is_check||this.companyTaxNum()||!k.is_check||this.pwd(_)||!_.is_check||this.repwd(g,_)||!g.is_check||this.captcha(b)||!b.is_check)}},tip:function(e,t,n){e.is_check=n,""==t?r(".regist-error").find("p").html(t).end().hide():r(".regist-error").find("p").html(t).end().show()}},D=function(e){if(U.account(e),!e.is_check)return!1};l()})},107:function(e,t,n){var r=n(20),o={_check:function(){return"placeholder"in document.createElement("input")},init:function(){this._check()||this.fix()},fix:function(){r(":input[placeholder]").each(function(e,t){var n=$(this),r=n.attr("placeholder");n.wrap($("<div></div>").css({position:"relative",zoom:"1",border:"none",background:"none",padding:"none",margin:"none"}));var o=n.position(),i=(n.outerHeight(!0),n.css("padding-left"),$("<span></span>").text(r).css({position:"absolute",left:o.left+15,top:o.top,height:"50px",lineHeight:"50px",paddingLeft:"0px",color:"#8c8c8c","font-size":"14px"}).appendTo(n.parent()));n.focusin(function(e){i.hide()}).focusout(function(e){n.val()||i.show()}),i.click(function(e){i.hide(),n.focus()})})}};e.exports=o},108:function(e,t){!function(e){"use strict";var t,n=e.Base64,r="2.1.8",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(o),c=String.fromCharCode,s=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|63&t)},a=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,l=function(e){return e.replace(a,s)},d=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[o.charAt(n>>>18),o.charAt(n>>>12&63),t>=2?"=":o.charAt(n>>>6&63),t>=1?"=":o.charAt(63&n)];return r.join("")},u=e.btoa?function(t){return e.btoa(t)}:function(e){return e.replace(/[\s\S]{1,3}/g,d)},h=t?function(e){return(e.constructor===t.constructor?e:new t(e)).toString("base64")}:function(e){return u(l(e))},p=function(e,t){return t?h(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):h(String(e))},v=function(e){return p(e,!0)},f=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),_=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return c((n>>>10)+55296)+c((1023&n)+56320);case 3:return c((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return c((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},g=function(e){return e.replace(f,_)},m=function(e){var t=e.length,n=t%4,r=(t>0?i[e.charAt(0)]<<18:0)|(t>1?i[e.charAt(1)]<<12:0)|(t>2?i[e.charAt(2)]<<6:0)|(t>3?i[e.charAt(3)]:0),o=[c(r>>>16),c(r>>>8&255),c(255&r)];return o.length-=[0,0,2,1][n],o.join("")},C=e.atob?function(t){return e.atob(t)}:function(e){return e.replace(/[\s\S]{1,4}/g,m)},k=t?function(e){return(e.constructor===t.constructor?e:new t(e,"base64")).toString()}:function(e){return g(C(e))},b=function(e){return k(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},w=function(){var t=e.Base64;return e.Base64=n,t};if(e.Base64={VERSION:r,atob:C,btoa:u,fromBase64:b,toBase64:p,utob:l,encode:p,encodeURI:v,btou:g,decode:b,noConflict:w},"function"==typeof Object.defineProperty){var y=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};e.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",y(function(){return b(this)})),Object.defineProperty(String.prototype,"toBase64",y(function(e){return p(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",y(function(){return p(this,!0)}))}}e.Meteor&&(Base64=e.Base64)}(window)},109:function(e,t,n){var r=n(20);r.AutoComplete=function(e){var t,n,r=$(e),o=[];o.push('<div class="AutoComplete" id="AutoComplete">'),o.push('    <ul class="AutoComplete_ul">'),o.push('        <li hz="@lenovo.com"></li>'),o.push('        <li hz="@qq.com"></li>'),o.push('        <li hz="@163.com"></li>'),o.push('        <li hz="@sina.com"></li>'),o.push("    </ul>"),o.push("</div>"),$("body").append(o.join("")),t=$("#AutoComplete"),t.data("elt",r),n=t.find("li:not(.AutoComplete_title)"),n.mouseover(function(){$(this).siblings().filter(".hover").removeClass("hover"),$(this).addClass("hover")}).mouseout(function(){$(this).removeClass("hover")}).mousedown(function(){t.data("elt").val($(this).text()).change(),t.data("elt").keyup(),t.hide()}),r.keyup(function(e){if(/13|38|40|116/.test(e.keyCode)||""==this.value)return!1;var r=this.value;return r.indexOf("@")==-1?(t.hide(),!1):(n.each(function(){this.innerHTML=r.replace(/\@+.*/,"")+$(this).attr("hz"),this.innerHTML.indexOf(r)>=0?$(this).show():$(this).hide()}).filter(".hover").removeClass("hover"),t.show().css({left:$(this).offset().left,top:$(this).offset().top+$(this).outerHeight(!0),position:"absolute",zIndex:"99999"}),void(0==n.filter(":visible").length?t.hide():n.filter(":visible").eq(0).addClass("hover")))}).keydown(function(e){38==e.keyCode?n.filter(".hover").prev().not(".AutoComplete_title").addClass("hover").next().removeClass("hover"):40==e.keyCode?n.filter(".hover").next().addClass("hover").prev().removeClass("hover"):13==e.keyCode&&(n.filter(".hover").mousedown(),e.stopPropagation(),e.preventDefault())}).focus(function(){t.data("elt",$(this))}).blur(function(){t.hide()})}}});
